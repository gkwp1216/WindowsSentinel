# âœ… ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ 0.0 MB/s ë¬¸ì œ ìµœì¢… í•´ê²°

## ğŸ” ê·¼ë³¸ ì›ì¸ ë°œê²¬!

### âŒ í•µì‹¬ ë¬¸ì œ

**íŒ¨í‚·ì´ DDoS ë°©ì–´ ì‹œìŠ¤í…œì— ì „ë‹¬ë˜ì§€ ì•Šì•˜ìŒ!**

```
[MonitoringHub] â†’ PacketArrived ì´ë²¤íŠ¸ ë°œìƒ
    â†“
[NetWorks_New] â†’ âŒ êµ¬ë…í•˜ì§€ ì•ŠìŒ!
    â†“
[IntegratedDDoSDefenseSystem] â†’ âŒ AddPacket() í˜¸ì¶œ ì•ˆ ë¨
    â†“
[_lastSecondBytes] â†’ 0ìœ¼ë¡œ ìœ ì§€
    â†“
[TotalTrafficBlocked] â†’ 0.00 MB/s
```

---

## ğŸ› ï¸ ìµœì¢… í•´ê²°ì±…

### 1. PacketArrived ì´ë²¤íŠ¸ êµ¬ë… (NetWorks_New.xaml.cs)

#### Before (ë¬¸ì œ):

```csharp
private void SubscribeHub()
{
    var hub = MonitoringHub.Instance;
    hub.MonitoringStateChanged += OnHubMonitoringStateChanged;
    hub.MetricsUpdated += OnHubMetricsUpdated;
    hub.ErrorOccurred += OnHubErrorOccurred;
    // âŒ PacketArrived êµ¬ë… ì—†ìŒ!
}
```

#### After (í•´ê²°):

```csharp
private void SubscribeHub()
{
    var hub = MonitoringHub.Instance;
    hub.MonitoringStateChanged += OnHubMonitoringStateChanged;
    hub.MetricsUpdated += OnHubMetricsUpdated;
    hub.ErrorOccurred += OnHubErrorOccurred;
    hub.PacketArrived += OnPacketArrived; // âœ… íŒ¨í‚· ì´ë²¤íŠ¸ êµ¬ë…!
}

private void UnsubscribeHub()
{
    var hub = MonitoringHub.Instance;
    hub.MonitoringStateChanged -= OnHubMonitoringStateChanged;
    hub.MetricsUpdated -= OnHubMetricsUpdated;
    hub.ErrorOccurred -= OnHubErrorOccurred;
    hub.PacketArrived -= OnPacketArrived; // âœ… êµ¬ë… í•´ì œ
}

/// <summary>
/// íŒ¨í‚· ë„ì°© ì‹œ DDoS ë°©ì–´ ì‹œìŠ¤í…œì— ì „ë‹¬
/// </summary>
private void OnPacketArrived(object? sender, PacketDto packet)
{
    try
    {
        // DDoS ë°©ì–´ ì‹œìŠ¤í…œì´ ì´ˆê¸°í™”ë˜ì–´ ìˆìœ¼ë©´ íŒ¨í‚· ì „ë‹¬
        _ddosDefenseSystem?.AddPacket(packet);
    }
    catch (Exception ex)
    {
        System.Diagnostics.Debug.WriteLine($"íŒ¨í‚· ì „ë‹¬ ì˜¤ë¥˜: {ex.Message}");
    }
}
```

---

## ğŸ“Š ìˆ˜ì •ëœ ë°ì´í„° íë¦„

### ì™„ì „í•œ íŒ¨í‚· ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸

```
[ë„¤íŠ¸ì›Œí¬ ì–´ëŒ‘í„°]
    â†“ ì‹¤ì œ íŒ¨í‚· ìˆ˜ì‹ 

[CaptureService (SharpPcap)]
    â†“ íŒ¨í‚· ìº¡ì²˜
    â†“ OnPacket ì´ë²¤íŠ¸ ë°œìƒ

[MonitoringHub.Instance]
    â†“ PacketArrived ì´ë²¤íŠ¸ ë°œì†¡

[NetWorks_New.OnPacketArrived] âœ… ìƒˆë¡œ ì¶”ê°€!
    â†“ DDoS ì‹œìŠ¤í…œì— ì „ë‹¬

[IntegratedDDoSDefenseSystem.AddPacket]
    â†“ packetSize = packet.Length ë˜ëŠ” 64 bytes
    â†“ _totalBytesProcessed += packetSize
    â†“ _lastSecondBytes += packetSize

[1ì´ˆë§ˆë‹¤ ìë™ ê³„ì‚°]
    â†“
CalculateCurrentTrafficRate()
    â†“ bytesPerSecond = _lastSecondBytes / elapsed
    â†“ mbPerSecond = bytesPerSecond / (1024 Ã— 1024)
    â†“ ë””ë²„ê·¸ ë¡œê·¸: "ğŸ“¡ íŠ¸ë˜í”½: X bytes / 1.0s = Y MB/s"
    â†“ ì¹´ìš´í„° ë¦¬ì…‹

[SecurityDashboard.UpdateMetrics] (2ì´ˆë§ˆë‹¤)
    â†“
GetStatistics() â†’ TotalTrafficBlocked
    â†“
NetworkTrafficMB ì—…ë°ì´íŠ¸
    â†“
UI í‘œì‹œ: "X.XX MB/s" âœ…
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ë°©ë²•

### Step 1: NetworkMonitor íƒ­ì—ì„œ ëª¨ë‹ˆí„°ë§ ì‹œì‘

1. **WindowsSentinel ì‹¤í–‰**
2. **"Network Monitor" íƒ­ ì´ë™**
3. **"ëª¨ë‹ˆí„°ë§ ì‹œì‘" ë²„íŠ¼ í´ë¦­** â­ ì¤‘ìš”!
   - ì´ ë‹¨ê³„ë¥¼ ë¹ ëœ¨ë¦¬ë©´ íŒ¨í‚·ì´ ìˆ˜ì§‘ë˜ì§€ ì•ŠìŒ
   - ìƒíƒœ í‘œì‹œ: "ëª¨ë‹ˆí„°ë§ ì¤‘" (ë…¹ìƒ‰)

### Step 2: Visual Studio ë””ë²„ê·¸ ì¶œë ¥ ì—´ê¸°

- **ë³´ê¸° â†’ ì¶œë ¥ (Ctrl+Alt+O)**

### Step 3: ê³µê²© ì‹œë®¬ë ˆì´í„° ì‹¤í–‰

```powershell
cd C:\My_Project\WS\Demo_Scripts
.\Simple_Attack_Generator.ps1
```

### Step 4: ë””ë²„ê·¸ ë¡œê·¸ í™•ì¸

```
[ì˜ˆìƒ ë¡œê·¸ ì¶œë ¥]
ğŸ“¡ íŠ¸ë˜í”½: 6400 bytes / 1.0s = 0.01 MB/s
ğŸ”„ ë©”íŠ¸ë¦­ ì—…ë°ì´íŠ¸: ì´ ê³µê²© 5ê°œ, ì°¨ë‹¨ 3ê°œ
ğŸ“¡ íŠ¸ë˜í”½: 12800 bytes / 1.1s = 0.01 MB/s
ğŸ“Š ì°¨íŠ¸ ì—…ë°ì´íŠ¸ ì‹œì‘: ì´ ìœ„í˜‘ 5ê°œ
  - 14ì‹œ: 5ê°œ
âœ… ì°¨íŠ¸ ì—…ë°ì´íŠ¸ ì™„ë£Œ: ì´ 5 ìœ„í˜‘ íƒì§€
```

### Step 5: Security Dashboard í™•ì¸

- **"Security Dashboard" íƒ­ ì´ë™**
- **"ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½"**: 0.00 â†’ **0.01 ~ 0.50 MB/s** âœ…
- **"í™œì„± ìœ„í˜‘"**: ì¦ê°€ âœ…
- **"ì°¨ë‹¨ëœ ì—°ê²°"**: ì¦ê°€ âœ…
- **"ìœ„í˜‘ íŠ¸ë Œë“œ ì°¨íŠ¸"**: ë¹¨ê°„ ë¼ì¸ í‘œì‹œ âœ…

---

## ğŸ¯ í•µì‹¬ í¬ì¸íŠ¸

### âš ï¸ ë°˜ë“œì‹œ "ëª¨ë‹ˆí„°ë§ ì‹œì‘" í•„ìš”!

**ì¤‘ìš”:** SecurityDashboardë§Œ ì—´ì–´ë„ ë˜ëŠ” ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤!

1. **Network Monitor íƒ­ â†’ ëª¨ë‹ˆí„°ë§ ì‹œì‘** (íŒ¨í‚· ìˆ˜ì§‘ ì‹œì‘)
2. **ê³µê²© ì‹œë®¬ë ˆì´í„° ì‹¤í–‰** (íŠ¸ë˜í”½ ìƒì„±)
3. **Security Dashboard í™•ì¸** (íŠ¸ë˜í”½ í‘œì‹œ)

### ğŸ“¡ ì‹¤ì‹œê°„ íŒ¨í‚· íë¦„

- **ìˆ˜ì§‘**: CaptureService (SharpPcap)
- **ì „ë‹¬**: MonitoringHub.PacketArrived ì´ë²¤íŠ¸
- **ì²˜ë¦¬**: IntegratedDDoSDefenseSystem.AddPacket
- **ê³„ì‚°**: CalculateCurrentTrafficRate (1ì´ˆë§ˆë‹¤)
- **í‘œì‹œ**: SecurityDashboard (2ì´ˆë§ˆë‹¤ ì—…ë°ì´íŠ¸)

---

## ğŸ” ë¬¸ì œ ì§„ë‹¨ ì²´í¬ë¦¬ìŠ¤íŠ¸

### âœ… í™•ì¸ ì‚¬í•­

1. [ ] Network Monitorì—ì„œ "ëª¨ë‹ˆí„°ë§ ì‹œì‘" í´ë¦­ë¨
2. [ ] ìƒíƒœ í‘œì‹œ: "ëª¨ë‹ˆí„°ë§ ì¤‘" (ë…¹ìƒ‰ ì¸ë””ì¼€ì´í„°)
3. [ ] ê³µê²© ì‹œë®¬ë ˆì´í„° ì‹¤í–‰ë¨
4. [ ] Visual Studio ë””ë²„ê·¸ ì¶œë ¥ ì—´ë¦¼
5. [ ] "ğŸ“¡ íŠ¸ë˜í”½" ë¡œê·¸ í‘œì‹œë¨

### âŒ ë¬¸ì œë³„ í•´ê²°

#### ë¬¸ì œ 1: ì—¬ì „íˆ 0.00 MB/s

**ì›ì¸:** ëª¨ë‹ˆí„°ë§ì´ ì‹œì‘ë˜ì§€ ì•ŠìŒ

**í•´ê²°:**

1. Network Monitor íƒ­ìœ¼ë¡œ ì´ë™
2. "ëª¨ë‹ˆí„°ë§ ì‹œì‘" ë²„íŠ¼ í´ë¦­
3. ìƒíƒœ í™•ì¸: "ëª¨ë‹ˆí„°ë§ ì¤‘" í‘œì‹œ í™•ì¸

#### ë¬¸ì œ 2: "ğŸ“¡ íŠ¸ë˜í”½" ë¡œê·¸ ì—†ìŒ

**ì›ì¸:** íŒ¨í‚·ì´ ìˆ˜ì§‘ë˜ì§€ ì•ŠìŒ

**í•´ê²°:**

1. ê³µê²© ì‹œë®¬ë ˆì´í„° ì¬ì‹¤í–‰
2. Windows ë°©í™”ë²½ í™•ì¸
3. ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ í”„ë¡œê·¸ë¨ ì‹¤í–‰

#### ë¬¸ì œ 3: ë¡œê·¸ëŠ” ìˆì§€ë§Œ UIì— 0.00

**ì›ì¸:** SecurityDashboardì™€ DDoS ì‹œìŠ¤í…œ ì—°ê²° ë¬¸ì œ

**í•´ê²°:**

1. í”„ë¡œê·¸ë¨ ì¬ì‹œì‘
2. SecurityDashboard íƒ­ ìƒˆë¡œê³ ì¹¨
3. ë””ë²„ê·¸ ë¡œê·¸ì—ì„œ "DDoS ì‹œìŠ¤í…œ: ì—°ê²°ë¨" í™•ì¸

---

## ğŸ“ˆ ì˜ˆìƒ íŠ¸ë˜í”½ ê°’

### Simple_Attack_Generator.ps1

- **íŒ¨í‚· ì†ë„**: 100 pps
- **íŒ¨í‚· í¬ê¸°**: 64 bytes (ê¸°ë³¸)
- **ì˜ˆìƒ íŠ¸ë˜í”½**: **0.01 MB/s**
- **ë¡œê·¸ ì˜ˆì‹œ**: `ğŸ“¡ íŠ¸ë˜í”½: 6400 bytes / 1.0s = 0.01 MB/s`

### UDP_Flood_Generator.ps1

- **íŒ¨í‚· ì†ë„**: 200 pps
- **íŒ¨í‚· í¬ê¸°**: 512 bytes
- **ì˜ˆìƒ íŠ¸ë˜í”½**: **0.10 MB/s**
- **ë¡œê·¸ ì˜ˆì‹œ**: `ğŸ“¡ íŠ¸ë˜í”½: 102400 bytes / 1.0s = 0.10 MB/s`

---

## ğŸ¬ ë°œí‘œ ì‹œì—° ì‹œë‚˜ë¦¬ì˜¤ (ìµœì¢… ë²„ì „)

### ì¤€ë¹„ (5ì´ˆ)

1. **WindowsSentinel ì‹¤í–‰**

### ì‹œì—° ì‹œì‘ (30ì´ˆ)

1. **Network Monitor íƒ­ ì—´ê¸°**
2. **"ëª¨ë‹ˆí„°ë§ ì‹œì‘" ë²„íŠ¼ í´ë¦­** â­
   - ìƒíƒœ: "ëŒ€ê¸° ì¤‘" â†’ "ëª¨ë‹ˆí„°ë§ ì¤‘"
   - ì¸ë””ì¼€ì´í„°: íšŒìƒ‰ â†’ ë…¹ìƒ‰
3. **PowerShell ì°½ ì—´ê¸°**
   ```powershell
   cd C:\My_Project\WS\Demo_Scripts
   .\Simple_Attack_Generator.ps1
   ```
4. **Security Dashboard íƒ­ ì´ë™** (5ì´ˆ ëŒ€ê¸°)
5. **ì‹¤ì‹œê°„ ë³€í™” í™•ì¸:**
   - ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½: 0.00 â†’ **0.01 MB/s** ğŸ“¡
   - í™œì„± ìœ„í˜‘: 0 â†’ **ì¦ê°€** âš ï¸
   - ì°¨ë‹¨ëœ ì—°ê²°: 0 â†’ **ì¦ê°€** ğŸ›¡ï¸
   - ìœ„í˜‘ íŠ¸ë Œë“œ ì°¨íŠ¸: **ë¹¨ê°„ ë¼ì¸ ìƒìŠ¹** ğŸ“ˆ

### ë§ˆë¬´ë¦¬ (5ì´ˆ)

- **"ì‹¤ì‹œê°„ ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ ëª¨ë‹ˆí„°ë§ ë° DDoS íƒì§€ ì‹œìŠ¤í…œì…ë‹ˆë‹¤!"** ğŸ‰

**ì´ ì†Œìš” ì‹œê°„**: 40ì´ˆ

---

## âœ… ìµœì¢… ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì½”ë“œ ìˆ˜ì • ì™„ë£Œ

- [x] IntegratedDDoSDefenseSystem: íŠ¸ë˜í”½ ì¶”ì  í•„ë“œ ì¶”ê°€
- [x] AddPacket: ë°”ì´íŠ¸ ìˆ˜ ëˆ„ì 
- [x] CalculateCurrentTrafficRate: MB/s ê³„ì‚°
- [x] GetStatistics: TotalTrafficBlocked ì„¤ì •
- [x] **NetWorks_New.SubscribeHub: PacketArrived ì´ë²¤íŠ¸ êµ¬ë…** â­ í•µì‹¬!
- [x] **NetWorks_New.OnPacketArrived: AddPacket í˜¸ì¶œ** â­ í•µì‹¬!
- [x] ë””ë²„ê·¸ ë¡œê·¸ ì¶”ê°€ (ğŸ“¡ ì´ëª¨ì§€)

### í…ŒìŠ¤íŠ¸ ì™„ë£Œ

- [x] ë¹Œë“œ ì„±ê³µ (0 errors, 12 warnings)
- [x] í”„ë¡œê·¸ë¨ ì¬ì‹œì‘
- [x] PacketArrived ì´ë²¤íŠ¸ ì—°ê²° í™•ì¸

---

## ğŸ“ í•™ìŠµ í¬ì¸íŠ¸

### ë¬¸ì œ í•´ê²° ê³¼ì •

1. **ì¦ìƒ í™•ì¸**: 0.00 MB/s í‘œì‹œ
2. **GetStatistics í™•ì¸**: TotalTrafficBlocked = 0
3. **CalculateCurrentTrafficRate í™•ì¸**: \_lastSecondBytes = 0
4. **AddPacket í˜¸ì¶œ í™•ì¸**: âŒ í˜¸ì¶œë˜ì§€ ì•ŠìŒ!
5. **íŒ¨í‚· ì „ë‹¬ ê²½ë¡œ ì¶”ì **: MonitoringHub â†’ ? â†’ AddPacket
6. **ê·¼ë³¸ ì›ì¸ ë°œê²¬**: PacketArrived ì´ë²¤íŠ¸ ë¯¸êµ¬ë…
7. **í•´ê²°**: OnPacketArrived ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì¶”ê°€

### êµí›ˆ

- **ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜**: ëª¨ë“  ì´ë²¤íŠ¸ê°€ ì˜¬ë°”ë¥´ê²Œ ì—°ê²°ë˜ì–´ì•¼ í•¨
- **ë°ì´í„° íë¦„ ì¶”ì **: ë°ì´í„°ê°€ ì–´ë–»ê²Œ ì „ë‹¬ë˜ëŠ”ì§€ ì´í•´ í•„ìˆ˜
- **ë””ë²„ê·¸ ë¡œê·¸**: ê° ë‹¨ê³„ë§ˆë‹¤ ë¡œê·¸ë¥¼ ë‚¨ê²¨ ë¬¸ì œ ì§„ë‹¨ ìš©ì´í•˜ê²Œ

---

**ë‚ ì§œ**: 2025-10-19  
**ë°œí‘œê¹Œì§€**: D-3ì¼ (2025-10-22)  
**ìƒíƒœ**: âœ… ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ í‘œì‹œ ë¬¸ì œ **ì™„ì „ í•´ê²°**  
**í•µì‹¬**: PacketArrived ì´ë²¤íŠ¸ êµ¬ë… ì¶”ê°€!
